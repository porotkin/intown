(this.webpackJsonpintown=this.webpackJsonpintown||[]).push([[0],{168:function(e,t,n){e.exports=n(264)},264:function(e,t,n){"use strict";n.r(t);n(169),n(195),n(197),n(198),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237);var a=n(0),r=n.n(a),s=n(97),c=n.n(s),o=n(21),i=n.n(o),u=n(37),l=n.n(u),d=n(46),b=n(33),m=n(34),p=n(47),h=n(36),f=n(35),y=n(11),E=(n(61),n(99)),v=n.n(E),S=n(100),g=n.n(S),k=n(101),j=n.n(k),O=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).subscribeToggle=function(){a.state.subscribed?a.setState({on:"primary",text:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f",subscribed:!1}):a.setState({on:"secondary",text:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f",subscribed:!0})},a.state=a.props.subscribed?{on:"secondary",text:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f",subscribed:!0}:{on:"primary",text:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f",subscribed:!1},a}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement(y.e,null,r.a.createElement(y.c,null,r.a.createElement(y.b,{mode:this.state.on,onClick:this.subscribeToggle},this.state.text)))}}]),n}(r.a.Component),C=n(68),x=n.n(C),_=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).getFriends=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.send("VKWebAppCallAPIMethod",{method:"friends.get",request_id:"32test",params:{fields:"id, photo_50",order:"name",access_token:a.state.access_token}}).then((function(e){a.setState({friends:e.response.items}),console.log(e)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)}))),a.state={access_token:null,friends:null},i.a.send("VKWebAppGetAuthToken",{app_id:7550756,scope:"friends"}).then((function(e){a.setState({access_token:e.access_token}),a.getFriends()})),a}return Object(m.a)(n,[{key:"render",value:function(){return r.a.createElement(y.e,null,r.a.createElement(y.f,{mode:"secondary"},"\u0421\u043f\u0438\u0441\u043e\u043a \u0434\u0440\u0443\u0437\u0435\u0439"),this.state.friends?this.state.friends.map((function(e){return r.a.createElement(x.a,{before:r.a.createElement(y.a,{size:48,src:e.photo_50}),after:r.a.createElement(O,{subscribed:!1}),description:e.id},e.first_name+" "+e.last_name)})):r.a.createElement(x.a,null,"Loading"))}}]),n}(r.a.Component),w=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(e){var a;function r(){return(r=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.send("VKWebAppGetUserInfo");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.a)(this,n),(a=t.call(this,e)).state={activeStory:"Subs",friends:null},a.onStoryChange=a.onStoryChange.bind(Object(p.a)(a)),i.a.subscribe((function(e){var t=e.detail,n=t.type,a=t.data;if("VKWebAppUpdateConfig"===n){var r=document.createAttribute("scheme");r.value=a.scheme?a.scheme:"client_light",document.body.attributes.setNamedItem(r)}})),function(){r.apply(this,arguments)}(),a}return Object(m.a)(n,[{key:"onStoryChange",value:function(e){this.setState({activeStory:e.currentTarget.dataset.story})}},{key:"render",value:function(){return r.a.createElement(y.d,{activeStory:this.state.activeStory,tabbar:r.a.createElement(y.i,null,r.a.createElement(y.j,{onClick:this.onStoryChange,selected:"Subs"===this.state.activeStory,"data-story":"Subs",text:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"},r.a.createElement(v.a,{fill:"#FF7F50"})),r.a.createElement(y.j,{onClick:this.onStoryChange,selected:"Geo"===this.state.activeStory,"data-story":"Geo",text:"\u0413\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u044f"},r.a.createElement(g.a,{fill:"#228B22"})))},r.a.createElement(y.k,{id:"Subs",activePanel:"Subs"},r.a.createElement(y.g,{id:"Subs"},r.a.createElement(y.h,{separator:!1},"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"),r.a.createElement(j.a,null,r.a.createElement(_,null)))),r.a.createElement(y.k,{id:"Geo",activePanel:"Geo"},r.a.createElement(y.g,{id:"Geo"},r.a.createElement(y.h,{separator:!1},"\u0413\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u044f"))))}}]),n}(r.a.Component);i.a.send("VKWebAppInit").then(),c.a.render(r.a.createElement(w,null),document.getElementById("root"))}},[[168,1,2]]]);
//# sourceMappingURL=main.ba2195d4.chunk.js.map